{% extends 'base.html' %}
{% load static %}

{% block nav %}
<div class="flex w-1/2 justify-end content-center space2">
    <div class="fill-current h-6">
        <strong style="margin:5px;">
            <span class="bg-clip-text text-transparent bg-gradient-to-r from-green-400 via-pink-500 to-purple-500">
                HOLA {{ user }}
            </span>
        </strong>
    </div>
    <div class="fill-current h-6">
        <form action="{% url 'logout' %}" method="POST">
            {% csrf_token %}
            <button
            class="bg-gradient-to-r from-purple-800 to-green-500 
                hover:from-pink-500 hover:to-green-500 text-white 
                font-bold py-2 px-4 rounded focus:ring transform transition 
                hover:scale-105 duration-300 ease-in-out"
            type="submit"
            style="margin:5px;">
            SALIR
            </button>
        </form>
    </div>
</div>
{% endblock  %}

{% block content %}
{% comment %} NAV2 {% endcomment %}
<div class="w-full container mx-auto">
    <div class="w-full flex items-center justify-between">
        <a href="/home">
            <button
                class="bg-gradient-to-r from-purple-800 to-green-500 
                        hover:from-pink-500 hover:to-green-500 text-white 
                        font-bold py-2 px-4 rounded focus:ring transform transition 
                        hover:scale-105 duration-300 ease-in-out"
                type='submit'
                style="margin:5px;">
                ALBUM
            </button>
        </a>
    </div>
</div>
{% comment %} CONTENT {% endcomment %}
<div class="w-full container mx-auto">
    <div class="w-full flex items-center justify-between">
        <div class=container>
            <div class=row>
                <div class=col>
                    <figure class="md:flex bg-indigo-200 rounded-xl p-8 md:p-0 red-shadow">
                        <img src='{{ card_info.image.url }}' 
                        class="md:h-auto md:rounded-none rounded-full mx-auto" 
                        width="384" height="512">
                        <div class="pt-6 md:p-8 text-center md:text-left space-y-4">
                            <blockquote>
                                <p>Objeto Messier: <strong>{{ card_info.messier }}</strong></p>
                                <p>Nombre: <strong>{{ card_info.name }}</strong> </p>
                            </blockquote>
                            <hr>
                            <p>ID de tus cartas:</p>
                            <table class='divide-solid' style="margin:5px;">
                                <tr>
                                    <th>Eliminar</th>
                                    <th>ID</th>
                                    <th>Intercambiable</th>
                                    <th>Cambiar status</th>
                                </tr>
                                {% for card in cards %}
                                <tr>
                                    <td>
                                        <form action="{% url 'delete_card' id=card.id %}" method="post">
                                            {% csrf_token %}
                                            <button
                                            class="bg-gradient-to-r from-purple-800 to-green-500 
                                                    hover:from-pink-500 hover:to-green-500 text-white 
                                                    font-bold py-2 px-4 rounded focus:ring transform transition 
                                                    hover:scale-105 duration-300 ease-in-out"
                                            style="margin:5px;">
                                            ELIMINAR
                                            </button>  
                                        </form>
                                    </td>    
                                    <td>{{ card.id }}</td>
                                    {% if card.swap_status == 0 %}
                                    <td> No </td>
                                    {% else %}
                                    <td> SÃ­ </td>
                                    {% endif %}  
                                    <td>
                                        <form action="{%  url 'swap_status_card' id=card.id %}" method="post">
                                        {% comment %} <form action="" method="post"> {% endcomment %}
                                            {% csrf_token %}
                                            <button
                                            class="bg-gradient-to-r from-purple-800 to-green-500 
                                                    hover:from-pink-500 hover:to-green-500 text-white 
                                                    font-bold py-2 px-4 rounded focus:ring transform transition 
                                                    hover:scale-105 duration-300 ease-in-out"
                                            style="margin:5px;">
                                            CAMBIAR
                                            </button>
                                        </form>
                                    </td>  
                                </tr>
                                {% endfor %}                                  
                            </table>
                        </div>
                    </figure>
                </div>
            </div>
        </div>
    </div>
</div>
{% endblock %}